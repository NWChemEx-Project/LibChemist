<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Designing the FragmentedMolecule Class &mdash; Chemist 0.0.0 documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Chemical System Design" href="system.html" />
    <link rel="prev" title="Molecule Design" href="molecule.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            Chemist
          </a>
              <div class="version">
                0.0.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../overview.html">Overview of Chemist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sparse_maps/index.html">Sparse Maps Sublibrary</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Developer Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Design Documentation</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../index.html#overview">Overview</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../architecture.html">Architecture of Chemist</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="index.html">Designing the Chemistry Sublibrary</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#physics">Physics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference external" href="https://nwchemex-project.github.io/.github/">Developing for the NWChemEx Organization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://nwchemex-project.github.io/Chemist/chemist_cxx_api/index.html">C++ API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Chemist</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Developer Documentation</a></li>
          <li class="breadcrumb-item"><a href="../index.html">Design Documentation</a></li>
          <li class="breadcrumb-item"><a href="index.html">Designing the Chemistry Sublibrary</a></li>
      <li class="breadcrumb-item active">Designing the FragmentedMolecule Class</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/developer/design/chemistry/fragmented_molecule.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="designing-the-fragmentedmolecule-class">
<span id="designing-fragmented-molecule-class"></span><h1>Designing the FragmentedMolecule Class<a class="headerlink" href="#designing-the-fragmentedmolecule-class" title="Permalink to this heading"></a></h1>
<p>Following the discussion in <a class="reference internal" href="fragmented_system.html#designing-fragmented-system"><span class="std std-ref">Designing the Fragmented System Component</span></a> we need a class
<code class="docutils literal notranslate"><span class="pre">FragmentedMolecule</span></code> to track how the <code class="docutils literal notranslate"><span class="pre">Molecule</span></code> piece of the
<code class="docutils literal notranslate"><span class="pre">ChemicalSystem</span></code> is decomposed. This page discusses the design of that class.</p>
<div class="section" id="what-is-a-fragmented-molecule">
<h2>What is a fragmented molecule?<a class="headerlink" href="#what-is-a-fragmented-molecule" title="Permalink to this heading"></a></h2>
<p>In computational chemistry parlance, a molecule is the set of atoms we are
running a computation on. Sometimes we need to describe a “piece of a
molecule.” These pieces are fragments, and when we decompose a molecules into
a set of fragments, we say that the set forms a fragmented molecule if each
atom in the original molecule appears in at least one of the fragments.</p>
</div>
<div class="section" id="why-do-we-need-fragmented-molecules">
<h2>Why do we need fragmented molecules?<a class="headerlink" href="#why-do-we-need-fragmented-molecules" title="Permalink to this heading"></a></h2>
<p>In computational chemistry there are a number of methods which require breaking
the molecule up into two or more pieces. While at some point many of these
methods will rely on the fact that the fragments are themselves perfectly good
molecules, most times the algorithm will also need to use the fact that the
fragments are pieces of a larger system. In turn, we need a way to represent
the fragments, while not forgetting the molecule the fragments come from.</p>
</div>
<div class="section" id="fragmentedmolecule-class-considerations">
<h2>FragmentedMolecule Class Considerations<a class="headerlink" href="#fragmentedmolecule-class-considerations" title="Permalink to this heading"></a></h2>
<dl class="simple" id="fm-molecule">
<dt>Molecule compatability.</dt><dd><p>Chemist defines the <code class="docutils literal notranslate"><span class="pre">Molecule</span></code> class. The <code class="docutils literal notranslate"><span class="pre">FragmentedMolecule</span></code> class
should behave like a container of <code class="docutils literal notranslate"><span class="pre">Molecule</span></code> objects.</p>
</dd>
</dl>
<dl class="simple" id="fm-charge-mult">
<dt>Charge and multiplicity.</dt><dd><p>In fragmenting the molecule, the charge/multiplicity must also be fragmented.
More specifically we must assign a charge/multiplicity to each fragment.</p>
</dd>
</dl>
<dl class="simple" id="fm-caps">
<dt>Caps.</dt><dd><p>As a direct result of the <a class="reference internal" href="fragmented_system.html#fs-generality"><span class="std std-ref">Generality</span></a> consideration raised for the
<code class="docutils literal notranslate"><span class="pre">FragmentedSystem</span></code> class, the  <code class="docutils literal notranslate"><span class="pre">FragmenteNuclei</span></code> object may contain
caps. The <code class="docutils literal notranslate"><span class="pre">FragmentedMolecule</span></code> must be able to add electrons to the caps.</p>
</dd>
</dl>
<dl class="simple" id="fm-type-dispatch">
<dt>Type dispatch.</dt><dd><p>Modules recieving <code class="docutils literal notranslate"><span class="pre">Molecule</span></code> objects as input do not need to worry about
fragments, whereas modules recieving <code class="docutils literal notranslate"><span class="pre">FragmentedMolecule</span></code> objects do need
to worry about the fact that there is (in general) a set of fragments.</p>
</dd>
</dl>
</div>
<div class="section" id="fragmentedmolecule-design">
<h2>FragmentedMolecule Design<a class="headerlink" href="#fragmentedmolecule-design" title="Permalink to this heading"></a></h2>
<p>The high-level design aspects of the <code class="docutils literal notranslate"><span class="pre">FragmentedMolecule</span></code> class were
already covered by <a class="reference internal" href="fragmented_system.html#fig-fragmented-system-design"><span class="std std-numref">Fig. 5</span></a>.</p>
</div>
<div class="section" id="fragmentedmolecule-summary">
<h2>FragmentedMolecule Summary<a class="headerlink" href="#fragmentedmolecule-summary" title="Permalink to this heading"></a></h2>
<p>Below we summarize how our design addresses the considerations raised above.</p>
<dl class="simple">
<dt><a class="reference internal" href="#fm-molecule"><span class="std std-ref">Molecule compatability.</span></a></dt><dd><p>The elements of the <code class="docutils literal notranslate"><span class="pre">FragmentedMolecule</span></code> class are <code class="docutils literal notranslate"><span class="pre">MoleculeView</span></code>
objects, which are API-compatible with <code class="docutils literal notranslate"><span class="pre">Molecule</span></code> instances.</p>
</dd>
<dt><a class="reference internal" href="#fm-charge-mult"><span class="std std-ref">Charge and multiplicity.</span></a></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">FragmentedMolecule</span></code> class stores the charge/multiplicty of each
fragment.</p>
</dd>
<dt><a class="reference internal" href="#fm-caps"><span class="std std-ref">Caps.</span></a></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">FragmentedNuclei</span></code> class will contain a <code class="docutils literal notranslate"><span class="pre">Caps</span></code> object which
represents the broken bonds and what they are replaced with. Discussion of
the design of the <code class="docutils literal notranslate"><span class="pre">Caps</span></code> class can be found
<a class="reference internal" href="caps.html#designing-the-caps-class"><span class="std std-ref">Designing the CapSet Class</span></a>.</p>
</dd>
<dt><a class="reference internal" href="#fm-type-dispatch"><span class="std std-ref">Type dispatch.</span></a></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">FragmentedMolecule</span></code> class is different from the <code class="docutils literal notranslate"><span class="pre">Molecule</span></code> class
and thus can be used for type-based dispatching.</p>
</dd>
</dl>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="molecule.html" class="btn btn-neutral float-left" title="Molecule Design" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="system.html" class="btn btn-neutral float-right" title="Chemical System Design" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, NWChemEx Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>